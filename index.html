<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PackSmart â€” Travel Organizer</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=DM+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #0f0e17;
    --surface: #1a1927;
    --surface2: #24233a;
    --border: #2e2d4a;
    --accent: #e8a045;
    --accent2: #7c6af7;
    --accent3: #4ecdc4;
    --red: #ff6b6b;
    --text: #e8e6f0;
    --muted: #7a7890;
    --success: #4ade80;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: var(--bg);
    color: var(--text);
    font-family: 'DM Sans', sans-serif;
    min-height: 100vh;
    overflow-x: hidden;
  }

  /* Background texture */
  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background: 
      radial-gradient(ellipse at 20% 10%, rgba(124,106,247,0.12) 0%, transparent 50%),
      radial-gradient(ellipse at 80% 80%, rgba(232,160,69,0.08) 0%, transparent 50%),
      radial-gradient(ellipse at 50% 50%, rgba(78,205,196,0.04) 0%, transparent 70%);
    pointer-events: none;
    z-index: 0;
  }

  /* Header */
  header {
    position: relative;
    z-index: 10;
    padding: 32px 40px 24px;
    border-bottom: 1px solid var(--border);
    display: flex;
    align-items: center;
    justify-content: space-between;
    backdrop-filter: blur(10px);
    background: rgba(15,14,23,0.8);
    position: sticky;
    top: 0;
  }

  .logo {
    display: flex;
    align-items: center;
    gap: 14px;
  }

  .logo-icon {
    width: 42px; height: 42px;
    background: linear-gradient(135deg, var(--accent), var(--accent2));
    border-radius: 12px;
    display: flex; align-items: center; justify-content: center;
    font-size: 20px;
  }

  .logo-text {
    font-family: 'Playfair Display', serif;
    font-size: 24px;
    font-weight: 700;
    letter-spacing: -0.5px;
  }

  .logo-text span { color: var(--accent); font-style: italic; }

  .trip-info {
    display: flex;
    align-items: center;
    gap: 12px;
  }

  .trip-name-input {
    background: var(--surface2);
    border: 1px solid var(--border);
    color: var(--text);
    padding: 8px 16px;
    border-radius: 8px;
    font-family: 'DM Sans', sans-serif;
    font-size: 14px;
    width: 200px;
    transition: border-color 0.2s;
  }
  .trip-name-input:focus { outline: none; border-color: var(--accent2); }
  .trip-name-input::placeholder { color: var(--muted); }

  .progress-ring {
    display: flex;
    align-items: center;
    gap: 8px;
    background: var(--surface);
    border: 1px solid var(--border);
    padding: 8px 16px;
    border-radius: 24px;
    font-size: 13px;
    color: var(--muted);
  }

  .progress-ring .count { color: var(--accent); font-weight: 600; font-size: 15px; }

  /* Nav Tabs */
  .nav {
    position: relative;
    z-index: 5;
    display: flex;
    gap: 4px;
    padding: 20px 40px 0;
    border-bottom: 1px solid var(--border);
    overflow-x: auto;
  }

  .nav::-webkit-scrollbar { display: none; }

  .tab {
    padding: 12px 22px;
    border-radius: 10px 10px 0 0;
    border: 1px solid transparent;
    border-bottom: none;
    background: transparent;
    color: var(--muted);
    cursor: pointer;
    font-family: 'DM Sans', sans-serif;
    font-size: 14px;
    font-weight: 500;
    display: flex;
    align-items: center;
    gap: 8px;
    transition: all 0.2s;
    white-space: nowrap;
    position: relative;
    bottom: -1px;
  }

  .tab:hover { color: var(--text); background: var(--surface); }

  .tab.active {
    color: var(--text);
    background: var(--surface);
    border-color: var(--border);
    border-bottom-color: var(--surface);
  }

  .tab-dot {
    width: 8px; height: 8px;
    border-radius: 50%;
    display: inline-block;
  }

  /* Main Content */
  main {
    position: relative;
    z-index: 1;
    padding: 32px 40px;
    max-width: 1200px;
    margin: 0 auto;
  }

  .panel { display: none; animation: fadeIn 0.3s ease; }
  .panel.active { display: block; }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(8px); }
    to { opacity: 1; transform: translateY(0); }
  }

  /* Section Headers */
  .section-header {
    margin-bottom: 28px;
  }

  .section-title {
    font-family: 'Playfair Display', serif;
    font-size: 32px;
    font-weight: 700;
    line-height: 1.2;
    margin-bottom: 6px;
  }

  .section-sub {
    color: var(--muted);
    font-size: 14px;
  }

  /* Cards */
  .card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 16px;
    padding: 24px;
    margin-bottom: 20px;
    transition: border-color 0.2s;
  }

  .card:hover { border-color: var(--accent2); }

  .card-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 18px;
  }

  .card-title {
    font-weight: 600;
    font-size: 16px;
    display: flex;
    align-items: center;
    gap: 10px;
  }

  .card-title .icon {
    width: 32px; height: 32px;
    border-radius: 8px;
    display: flex; align-items: center; justify-content: center;
    font-size: 16px;
  }

  .badge {
    background: var(--surface2);
    border: 1px solid var(--border);
    padding: 3px 10px;
    border-radius: 20px;
    font-size: 12px;
    color: var(--muted);
  }

  /* Items list */
  .item-list { display: flex; flex-direction: column; gap: 8px; }

  .item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 14px;
    background: var(--surface2);
    border: 1px solid var(--border);
    border-radius: 10px;
    transition: all 0.2s;
    group: true;
  }

  .item:hover { border-color: var(--accent2); background: rgba(124,106,247,0.05); }

  .item.checked {
    border-color: rgba(74,222,128,0.3);
    background: rgba(74,222,128,0.04);
  }

  .item.checked .item-label { text-decoration: line-through; color: var(--muted); }

  .checkbox {
    width: 20px; height: 20px;
    border: 2px solid var(--border);
    border-radius: 6px;
    flex-shrink: 0;
    cursor: pointer;
    display: flex; align-items: center; justify-content: center;
    transition: all 0.2s;
    background: transparent;
  }

  .item.checked .checkbox {
    background: var(--success);
    border-color: var(--success);
    color: #0f0e17;
    font-size: 12px;
  }

  .item-label {
    flex: 1;
    font-size: 14px;
    cursor: pointer;
    user-select: none;
  }

  .item-category {
    font-size: 11px;
    color: var(--muted);
    background: var(--surface);
    border: 1px solid var(--border);
    padding: 2px 8px;
    border-radius: 12px;
  }

  .item-actions {
    display: flex;
    gap: 6px;
    opacity: 0;
    transition: opacity 0.2s;
  }

  .item:hover .item-actions { opacity: 1; }

  .btn-icon {
    width: 28px; height: 28px;
    border-radius: 6px;
    border: 1px solid var(--border);
    background: var(--surface);
    color: var(--muted);
    cursor: pointer;
    display: flex; align-items: center; justify-content: center;
    font-size: 12px;
    transition: all 0.2s;
  }

  .btn-icon:hover { border-color: var(--red); color: var(--red); }

  /* Add item row */
  .add-row {
    display: flex;
    gap: 8px;
    margin-top: 14px;
  }

  .input {
    flex: 1;
    background: var(--surface2);
    border: 1px solid var(--border);
    color: var(--text);
    padding: 10px 14px;
    border-radius: 10px;
    font-family: 'DM Sans', sans-serif;
    font-size: 14px;
    transition: border-color 0.2s;
  }

  .input:focus { outline: none; border-color: var(--accent2); }
  .input::placeholder { color: var(--muted); }

  .select {
    background: var(--surface2);
    border: 1px solid var(--border);
    color: var(--text);
    padding: 10px 14px;
    border-radius: 10px;
    font-family: 'DM Sans', sans-serif;
    font-size: 14px;
    cursor: pointer;
    transition: border-color 0.2s;
  }

  .select:focus { outline: none; border-color: var(--accent2); }

  .btn {
    padding: 10px 18px;
    border-radius: 10px;
    border: none;
    font-family: 'DM Sans', sans-serif;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    display: flex; align-items: center; gap: 6px;
    transition: all 0.2s;
  }

  .btn-primary {
    background: linear-gradient(135deg, var(--accent2), #9c8df7);
    color: white;
  }

  .btn-primary:hover { opacity: 0.9; transform: translateY(-1px); }

  .btn-outline {
    background: transparent;
    border: 1px solid var(--border);
    color: var(--muted);
  }

  .btn-outline:hover { border-color: var(--accent); color: var(--accent); }

  /* Progress bar */
  .progress-bar-wrap {
    height: 4px;
    background: var(--surface2);
    border-radius: 2px;
    margin-top: 16px;
    overflow: hidden;
  }

  .progress-bar {
    height: 100%;
    border-radius: 2px;
    transition: width 0.4s ease;
  }

  /* Documents grid */
  .doc-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
    gap: 16px;
    margin-bottom: 20px;
  }

  .doc-card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 14px;
    padding: 20px;
    transition: all 0.25s;
    cursor: pointer;
    position: relative;
    overflow: hidden;
  }

  .doc-card::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0;
    height: 3px;
    background: var(--doc-color, var(--accent2));
  }

  .doc-card:hover { transform: translateY(-3px); border-color: var(--accent2); }
  .doc-card.checked { border-color: rgba(74,222,128,0.3); }
  .doc-card.checked::before { background: var(--success); }

  .doc-card-top {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    margin-bottom: 12px;
  }

  .doc-icon { font-size: 28px; }

  .doc-check {
    width: 24px; height: 24px;
    border: 2px solid var(--border);
    border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    transition: all 0.2s;
    font-size: 12px;
  }

  .doc-card.checked .doc-check {
    background: var(--success);
    border-color: var(--success);
    color: #0f0e17;
  }

  .doc-name {
    font-weight: 600;
    font-size: 15px;
    margin-bottom: 4px;
  }

  .doc-desc {
    font-size: 12px;
    color: var(--muted);
    line-height: 1.5;
  }

  .doc-expiry {
    margin-top: 10px;
    font-size: 11px;
    color: var(--muted);
    border-top: 1px solid var(--border);
    padding-top: 10px;
    display: flex;
    align-items: center;
    gap: 6px;
  }

  .doc-expiry input {
    background: transparent;
    border: none;
    color: var(--accent);
    font-family: 'DM Sans', sans-serif;
    font-size: 11px;
    cursor: pointer;
    padding: 0;
    max-width: 100px;
  }
  .doc-expiry input::-webkit-calendar-picker-indicator { filter: invert(0.5); }

  /* Two column layout */
  .two-col {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
  }

  @media (max-width: 768px) {
    .two-col { grid-template-columns: 1fr; }
    header { padding: 20px; }
    .nav { padding: 16px 20px 0; }
    main { padding: 24px 20px; }
    .section-title { font-size: 26px; }
  }

  /* Things to do */
  .todo-item {
    display: flex;
    align-items: flex-start;
    gap: 12px;
    padding: 14px 16px;
    background: var(--surface2);
    border: 1px solid var(--border);
    border-radius: 12px;
    margin-bottom: 10px;
    transition: all 0.2s;
  }

  .todo-item:hover { border-color: var(--accent3); }

  .todo-item.done { opacity: 0.6; }
  .todo-item.done .todo-text { text-decoration: line-through; color: var(--muted); }

  .todo-check {
    width: 22px; height: 22px;
    flex-shrink: 0;
    border: 2px solid var(--border);
    border-radius: 50%;
    cursor: pointer;
    display: flex; align-items: center; justify-content: center;
    font-size: 11px;
    margin-top: 1px;
    transition: all 0.2s;
  }

  .todo-item.done .todo-check {
    background: var(--accent3);
    border-color: var(--accent3);
    color: #0f0e17;
  }

  .todo-content { flex: 1; }

  .todo-text {
    font-size: 14px;
    font-weight: 500;
    margin-bottom: 4px;
  }

  .todo-meta {
    font-size: 12px;
    color: var(--muted);
  }

  .priority-badge {
    padding: 2px 8px;
    border-radius: 10px;
    font-size: 11px;
    font-weight: 600;
  }
  .priority-high { background: rgba(255,107,107,0.15); color: var(--red); }
  .priority-med { background: rgba(232,160,69,0.15); color: var(--accent); }
  .priority-low { background: rgba(78,205,196,0.15); color: var(--accent3); }

  /* Stats bar */
  .stats-bar {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 12px;
    margin-bottom: 32px;
  }

  .stat {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 14px;
    padding: 18px 20px;
    text-align: center;
  }

  .stat-num {
    font-family: 'Playfair Display', serif;
    font-size: 30px;
    font-weight: 700;
    color: var(--accent);
    line-height: 1;
    margin-bottom: 4px;
  }

  .stat-label { font-size: 12px; color: var(--muted); }

  /* Weight tracker */
  .weight-row {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 10px 0;
    border-bottom: 1px solid var(--border);
    font-size: 14px;
  }

  .weight-row:last-child { border-bottom: none; }

  .weight-input {
    width: 80px;
    background: var(--surface2);
    border: 1px solid var(--border);
    color: var(--text);
    padding: 6px 10px;
    border-radius: 8px;
    font-family: 'DM Sans', sans-serif;
    font-size: 13px;
    text-align: right;
  }
  .weight-input:focus { outline: none; border-color: var(--accent); }

  .weight-bar-wrap {
    flex: 1;
    height: 6px;
    background: var(--surface2);
    border-radius: 3px;
    overflow: hidden;
  }

  .weight-bar { height: 100%; border-radius: 3px; transition: width 0.3s; }

  /* Notification / alert */
  .alert {
    padding: 14px 18px;
    border-radius: 10px;
    font-size: 13px;
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 16px;
  }

  .alert-warn {
    background: rgba(232,160,69,0.1);
    border: 1px solid rgba(232,160,69,0.3);
    color: var(--accent);
  }

  .alert-success {
    background: rgba(74,222,128,0.1);
    border: 1px solid rgba(74,222,128,0.3);
    color: var(--success);
  }

  /* Scrollbar */
  ::-webkit-scrollbar { width: 6px; }
  ::-webkit-scrollbar-track { background: var(--bg); }
  ::-webkit-scrollbar-thumb { background: var(--border); border-radius: 3px; }

  .empty-state {
    text-align: center;
    padding: 40px;
    color: var(--muted);
  }
  .empty-state .emoji { font-size: 36px; margin-bottom: 12px; }
  .empty-state p { font-size: 14px; }

  .section-header-row {
    display: flex;
    align-items: flex-end;
    justify-content: space-between;
    margin-bottom: 28px;
  }

  .quick-add-chips {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    margin-top: 14px;
  }

  .chip {
    padding: 5px 12px;
    background: var(--surface2);
    border: 1px dashed var(--border);
    border-radius: 20px;
    font-size: 12px;
    color: var(--muted);
    cursor: pointer;
    transition: all 0.2s;
  }

  .chip:hover { border-color: var(--accent2); color: var(--accent2); background: rgba(124,106,247,0.08); }

  /* summary panel */
  .summary-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    margin-bottom: 24px;
  }

  .summary-section { }

  .summary-title {
    font-size: 11px;
    text-transform: uppercase;
    letter-spacing: 1.5px;
    color: var(--muted);
    margin-bottom: 12px;
  }
</style>
</head>
<body>

<header>
  <div class="logo">
    <div class="logo-icon">âœˆï¸</div>
    <div class="logo-text">Pack<span>Smart</span></div>
  </div>
    <div class="trip-info">
    <input class="trip-name-input" type="text" id="tripName" placeholder="âœï¸ Name your trip...">
    <div class="progress-ring">
      <span>Overall:</span>
      <span class="count" id="overallProgress">0%</span>
    </div>
    <button class="btn btn-outline" onclick="resetAll()" title="Reset all data" style="padding:8px 12px;font-size:12px;">ğŸ—‘ Reset</button>
  </div>
</header>

<nav class="nav">
  <button class="tab active" onclick="showTab('overview')" id="tab-overview">
    <span class="tab-dot" style="background:#e8a045"></span> Overview
  </button>
  <button class="tab" onclick="showTab('documents')" id="tab-documents">
    <span class="tab-dot" style="background:#7c6af7"></span> Documents
  </button>
  <button class="tab" onclick="showTab('carryon')" id="tab-carryon">
    <span class="tab-dot" style="background:#4ecdc4"></span> Carry-On Bag
  </button>
  <button class="tab" onclick="showTab('checkin')" id="tab-checkin">
    <span class="tab-dot" style="background:#ff6b6b"></span> Check-In Bag
  </button>
  <button class="tab" onclick="showTab('todo')" id="tab-todo">
    <span class="tab-dot" style="background:#a8ff78"></span> Trip To-Do
  </button>
</nav>

<main>

  <!-- OVERVIEW -->
  <div class="panel active" id="panel-overview">
    <div class="section-header-row">
      <div class="section-header">
        <div class="section-title">Your Packing <em>Dashboard</em></div>
        <div class="section-sub">Track everything at a glance before you fly</div>
      </div>
    </div>

    <div class="stats-bar" id="statsBar">
      <div class="stat">
        <div class="stat-num" id="stat-docs">0/0</div>
        <div class="stat-label">Documents Ready</div>
      </div>
      <div class="stat">
        <div class="stat-num" id="stat-carry">0/0</div>
        <div class="stat-label">Carry-On Packed</div>
      </div>
      <div class="stat">
        <div class="stat-num" id="stat-check">0/0</div>
        <div class="stat-label">Check-In Packed</div>
      </div>
      <div class="stat">
        <div class="stat-num" id="stat-todo">0/0</div>
        <div class="stat-label">To-Dos Done</div>
      </div>
    </div>

    <div class="two-col">
      <div class="card">
        <div class="card-header">
          <div class="card-title">
            <div class="icon" style="background:rgba(232,160,69,0.15)">âš–ï¸</div>
            Bag Weight Tracker
          </div>
        </div>
        <div class="weight-row">
          <span style="flex:1;font-weight:500">Carry-On</span>
          <input type="number" class="weight-input" id="w-carry" placeholder="0" oninput="updateWeights()" min="0" max="30">
          <span style="font-size:12px;color:var(--muted)">kg / 7</span>
          <div class="weight-bar-wrap">
            <div class="weight-bar" id="wb-carry" style="background:var(--accent3);width:0%"></div>
          </div>
        </div>
        <div class="weight-row">
          <span style="flex:1;font-weight:500">Check-In</span>
          <input type="number" class="weight-input" id="w-check" placeholder="0" oninput="updateWeights()" min="0" max="50">
          <span style="font-size:12px;color:var(--muted)">kg / 23</span>
          <div class="weight-bar-wrap">
            <div class="weight-bar" id="wb-check" style="background:var(--accent);width:0%"></div>
          </div>
        </div>
        <div id="weightAlert"></div>
      </div>

      <div class="card">
        <div class="card-header">
          <div class="card-title">
            <div class="icon" style="background:rgba(124,106,247,0.15)">ğŸ“‹</div>
            Packing Progress
          </div>
        </div>
        <div style="display:flex;flex-direction:column;gap:14px" id="progressBars">
          <div>
            <div style="display:flex;justify-content:space-between;font-size:13px;margin-bottom:6px">
              <span>Documents</span><span id="pct-docs" style="color:var(--accent2)">0%</span>
            </div>
            <div class="progress-bar-wrap"><div class="progress-bar" id="pb-docs" style="background:var(--accent2);width:0%"></div></div>
          </div>
          <div>
            <div style="display:flex;justify-content:space-between;font-size:13px;margin-bottom:6px">
              <span>Carry-On</span><span id="pct-carry" style="color:var(--accent3)">0%</span>
            </div>
            <div class="progress-bar-wrap"><div class="progress-bar" id="pb-carry" style="background:var(--accent3);width:0%"></div></div>
          </div>
          <div>
            <div style="display:flex;justify-content:space-between;font-size:13px;margin-bottom:6px">
              <span>Check-In</span><span id="pct-check" style="color:var(--red)">0%</span>
            </div>
            <div class="progress-bar-wrap"><div class="progress-bar" id="pb-check" style="background:var(--red);width:0%"></div></div>
          </div>
          <div>
            <div style="display:flex;justify-content:space-between;font-size:13px;margin-bottom:6px">
              <span>To-Dos</span><span id="pct-todo" style="color:#a8ff78">0%</span>
            </div>
            <div class="progress-bar-wrap"><div class="progress-bar" id="pb-todo" style="background:#a8ff78;width:0%"></div></div>
          </div>
        </div>
      </div>
    </div>

    <div class="card" id="reminderCard">
      <div class="card-header">
        <div class="card-title">
          <div class="icon" style="background:rgba(255,107,107,0.15)">ğŸ””</div>
          Reminders & Tips
        </div>
      </div>
      <div style="display:flex;flex-direction:column;gap:10px" id="tipsContainer">
        <div class="alert alert-warn">ğŸ’¡ Arrive at the airport at least 2 hours before international flights.</div>
        <div class="alert alert-warn">ğŸ”’ Pack valuables, medications and electronics in your carry-on bag.</div>
        <div class="alert alert-warn">ğŸ“± Download offline maps and boarding passes before departure.</div>
      </div>
    </div>
  </div>

  <!-- DOCUMENTS -->
  <div class="panel" id="panel-documents">
    <div class="section-header">
      <div class="section-title">Travel <em>Documents</em></div>
      <div class="section-sub">Check off each document as you pack it â€” don't forget anything important</div>
    </div>

    <div class="doc-grid" id="docGrid">
      <!-- populated by JS -->
    </div>

    <div class="card">
      <div class="card-header">
        <div class="card-title">
          <div class="icon" style="background:rgba(124,106,247,0.15)">â•</div>
          Add Custom Document
        </div>
      </div>
      <div class="add-row">
        <input class="input" type="text" id="docName" placeholder="Document name..." >
        <input class="input" type="text" id="docDesc" placeholder="Short note..." style="max-width:200px">
        <button class="btn btn-primary" onclick="addDocument()">ï¼‹ Add</button>
      </div>
    </div>
  </div>

  <!-- CARRY-ON -->
  <div class="panel" id="panel-carryon">
    <div class="section-header">
      <div class="section-title">Carry-On <em>Bag</em></div>
      <div class="section-sub">Items that stay with you on the plane â€” max 7kg typically</div>
    </div>

    <div id="carryonLists"><!-- populated by JS --></div>

    <div class="card">
      <div class="card-header">
        <div class="card-title">
          <div class="icon" style="background:rgba(78,205,196,0.15)">â•</div>
          Add Item
        </div>
      </div>
      <div class="add-row">
        <input class="input" type="text" id="carryInput" placeholder="Item name..." onkeypress="if(event.key==='Enter')addItem('carry')">
        <select class="select" id="carryCategory">
          <option value="Electronics">ğŸ”Œ Electronics</option>
          <option value="Documents">ğŸ“„ Documents</option>
          <option value="Snacks">ğŸ Snacks</option>
          <option value="Comfort">ğŸ˜´ Comfort</option>
          <option value="Clothing">ğŸ‘• Clothing</option>
          <option value="Health">ğŸ’Š Health</option>
          <option value="Other">ğŸ“¦ Other</option>
        </select>
        <button class="btn btn-primary" onclick="addItem('carry')">ï¼‹ Add</button>
      </div>
      <div class="quick-add-chips" id="carryChips">
        <span class="chip" onclick="quickAdd('carry','Laptop','Electronics')">ğŸ’» Laptop</span>
        <span class="chip" onclick="quickAdd('carry','Headphones','Electronics')">ğŸ§ Headphones</span>
        <span class="chip" onclick="quickAdd('carry','Power Bank','Electronics')">ğŸ”‹ Power Bank</span>
        <span class="chip" onclick="quickAdd('carry','Neck Pillow','Comfort')">ğŸ˜´ Neck Pillow</span>
        <span class="chip" onclick="quickAdd('carry','Snacks','Snacks')">ğŸ« Snacks</span>
        <span class="chip" onclick="quickAdd('carry','Water Bottle','Other')">ğŸ’§ Water Bottle</span>
        <span class="chip" onclick="quickAdd('carry','Book/Kindle','Other')">ğŸ“š Book</span>
        <span class="chip" onclick="quickAdd('carry','Medication','Health')">ğŸ’Š Medication</span>
      </div>
    </div>
  </div>

  <!-- CHECK-IN -->
  <div class="panel" id="panel-checkin">
    <div class="section-header">
      <div class="section-title">Check-In <em>Bag</em></div>
      <div class="section-sub">Luggage that goes in the hold â€” max 23kg typically</div>
    </div>

    <div id="checkinLists"><!-- populated by JS --></div>

    <div class="card">
      <div class="card-header">
        <div class="card-title">
          <div class="icon" style="background:rgba(255,107,107,0.15)">â•</div>
          Add Item
        </div>
      </div>
      <div class="add-row">
        <input class="input" type="text" id="checkinInput" placeholder="Item name..." onkeypress="if(event.key==='Enter')addItem('checkin')">
        <select class="select" id="checkinCategory">
          <option value="Clothing">ğŸ‘• Clothing</option>
          <option value="Shoes">ğŸ‘Ÿ Shoes</option>
          <option value="Toiletries">ğŸ§´ Toiletries</option>
          <option value="Electronics">ğŸ”Œ Electronics</option>
          <option value="Health">ğŸ’Š Health</option>
          <option value="Sport">ğŸ‹ï¸ Sport</option>
          <option value="Other">ğŸ“¦ Other</option>
        </select>
        <button class="btn btn-primary" onclick="addItem('checkin')">ï¼‹ Add</button>
      </div>
      <div class="quick-add-chips">
        <span class="chip" onclick="quickAdd('checkin','T-Shirts x5','Clothing')">ğŸ‘• T-Shirts</span>
        <span class="chip" onclick="quickAdd('checkin','Pants x2','Clothing')">ğŸ‘– Pants</span>
        <span class="chip" onclick="quickAdd('checkin','Underwear x7','Clothing')">ğŸ©² Underwear</span>
        <span class="chip" onclick="quickAdd('checkin','Socks x7','Clothing')">ğŸ§¦ Socks</span>
        <span class="chip" onclick="quickAdd('checkin','Running Shoes','Shoes')">ğŸ‘Ÿ Sneakers</span>
        <span class="chip" onclick="quickAdd('checkin','Shampoo','Toiletries')">ğŸ§´ Shampoo</span>
        <span class="chip" onclick="quickAdd('checkin','Toothbrush','Toiletries')">ğŸª¥ Toothbrush</span>
        <span class="chip" onclick="quickAdd('checkin','Sunscreen','Toiletries')">â˜€ï¸ Sunscreen</span>
        <span class="chip" onclick="quickAdd('checkin','Jacket','Clothing')">ğŸ§¥ Jacket</span>
        <span class="chip" onclick="quickAdd('checkin','Swimwear','Clothing')">ğŸ©± Swimwear</span>
      </div>
    </div>
  </div>

  <!-- TO-DO -->
  <div class="panel" id="panel-todo">
    <div class="section-header">
      <div class="section-title">Trip <em>To-Do</em> List</div>
      <div class="section-sub">Things to arrange, book or complete before and during your trip</div>
    </div>

    <div id="todoList"><!-- populated by JS --></div>

    <div class="card">
      <div class="card-header">
        <div class="card-title">
          <div class="icon" style="background:rgba(168,255,120,0.15)">â•</div>
          Add Task
        </div>
      </div>
      <div class="add-row" style="flex-wrap:wrap;">
        <input class="input" type="text" id="todoInput" placeholder="What do you need to do?" onkeypress="if(event.key==='Enter')addTodo()">
        <input class="input" type="text" id="todoNote" placeholder="Note / location..." style="max-width:180px">
        <select class="select" id="todoPriority">
          <option value="high">ğŸ”´ High</option>
          <option value="med" selected>ğŸŸ¡ Medium</option>
          <option value="low">ğŸŸ¢ Low</option>
        </select>
        <button class="btn btn-primary" onclick="addTodo()">ï¼‹ Add</button>
      </div>
      <div class="quick-add-chips">
        <span class="chip" onclick="quickTodo('Book airport taxi','high')">ğŸš• Book taxi</span>
        <span class="chip" onclick="quickTodo('Check-in online','high')">ğŸ“± Online check-in</span>
        <span class="chip" onclick="quickTodo('Notify bank of travel','med')">ğŸ¦ Notify bank</span>
        <span class="chip" onclick="quickTodo('Exchange currency','med')">ğŸ’± Exchange currency</span>
        <span class="chip" onclick="quickTodo('Buy travel insurance','high')">ğŸ›¡ï¸ Travel insurance</span>
        <span class="chip" onclick="quickTodo('Download offline maps','low')">ğŸ—ºï¸ Offline maps</span>
        <span class="chip" onclick="quickTodo('Confirm hotel booking','med')">ğŸ¨ Confirm hotel</span>
        <span class="chip" onclick="quickTodo('Charge all devices','low')">ğŸ”‹ Charge devices</span>
      </div>
    </div>
  </div>

</main>

<script>
// ---- STATE ----
const state = {
  documents: [
    { id: 1, name: 'Passport', icon: 'ğŸ›‚', desc: 'Must be valid 6+ months', color: '#7c6af7', checked: false, expiry: '' },
    { id: 2, name: 'Flight Tickets', icon: 'âœˆï¸', desc: 'Print or save offline', color: '#e8a045', checked: false, expiry: '' },
    { id: 3, name: 'Travel Insurance', icon: 'ğŸ›¡ï¸', desc: 'Policy number & contacts', color: '#ff6b6b', checked: false, expiry: '' },
    { id: 4, name: 'Hotel Booking', icon: 'ğŸ¨', desc: 'Confirmation printout', color: '#4ecdc4', checked: false, expiry: '' },
    { id: 5, name: 'Visa', icon: 'ğŸ“‹', desc: 'Check entry requirements', color: '#a8ff78', checked: false, expiry: '' },
    { id: 6, name: 'Driver\'s License', icon: 'ğŸªª', desc: 'For car rentals', color: '#f9c6de', checked: false, expiry: '' },
    { id: 7, name: 'Vaccination Card', icon: 'ğŸ’‰', desc: 'COVID & other vaccines', color: '#ffeaa7', checked: false, expiry: '' },
    { id: 8, name: 'Emergency Contacts', icon: 'ğŸ“', desc: 'Printed backup list', color: '#74b9ff', checked: false, expiry: '' },
  ],
  carry: [],
  checkin: [],
  todos: [
    { id: 1, text: 'Check-in online 24h before departure', note: 'Airline app or website', priority: 'high', done: false },
    { id: 2, text: 'Confirm accommodation booking', note: 'Email or app', priority: 'high', done: false },
    { id: 3, text: 'Notify bank about travel dates', note: 'To avoid card blocks', priority: 'med', done: false },
  ],
  nextId: 100,
};

// ---- TABS ----
function showTab(id) {
  document.querySelectorAll('.panel').forEach(p => p.classList.remove('active'));
  document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
  document.getElementById('panel-' + id).classList.add('active');
  document.getElementById('tab-' + id).classList.add('active');
  updateAll();
}

// ---- DOCUMENTS ----
function renderDocuments() {
  const grid = document.getElementById('docGrid');
  grid.innerHTML = state.documents.map(doc => `
    <div class="doc-card ${doc.checked ? 'checked' : ''}" style="--doc-color:${doc.color}" onclick="toggleDoc(${doc.id})">
      <div class="doc-card-top">
        <div class="doc-icon">${doc.icon}</div>
        <div class="doc-check">${doc.checked ? 'âœ“' : ''}</div>
      </div>
      <div class="doc-name">${doc.name}</div>
      <div class="doc-desc">${doc.desc}</div>
      <div class="doc-expiry">
        ğŸ“… Expiry:
        <input type="date" value="${doc.expiry}" onclick="event.stopPropagation()" onchange="setDocExpiry(${doc.id}, this.value)">
        ${doc.id > 10 ? `<button class="btn-icon" onclick="event.stopPropagation();removeDoc(${doc.id})" style="margin-left:auto;opacity:0.7">ğŸ—‘</button>` : ''}
      </div>
    </div>
  `).join('');
}

function toggleDoc(id) {
  const d = state.documents.find(x => x.id === id);
  if (d) { d.checked = !d.checked; updateAll(); }
}

function setDocExpiry(id, val) {
  const d = state.documents.find(x => x.id === id);
  if (d) d.expiry = val;
}

function removeDoc(id) {
  state.documents = state.documents.filter(x => x.id !== id);
  updateAll();
}

function addDocument() {
  const name = document.getElementById('docName').value.trim();
  const desc = document.getElementById('docDesc').value.trim();
  if (!name) return;
  const colors = ['#7c6af7','#e8a045','#ff6b6b','#4ecdc4','#a8ff78'];
  const icons = ['ğŸ“„','ğŸ“‹','ğŸ—‚ï¸','ğŸ“','ğŸ—’ï¸'];
  state.documents.push({
    id: ++state.nextId,
    name, desc: desc || 'Custom document',
    icon: icons[Math.floor(Math.random()*icons.length)],
    color: colors[Math.floor(Math.random()*colors.length)],
    checked: false, expiry: ''
  });
  document.getElementById('docName').value = '';
  document.getElementById('docDesc').value = '';
  updateAll();
}

// ---- ITEMS (carry / checkin) ----
const categoryIcons = {
  Electronics:'ğŸ”Œ', Documents:'ğŸ“„', Snacks:'ğŸ', Comfort:'ğŸ˜´',
  Clothing:'ğŸ‘•', Health:'ğŸ’Š', Shoes:'ğŸ‘Ÿ', Toiletries:'ğŸ§´',
  Sport:'ğŸ‹ï¸', Other:'ğŸ“¦'
};

const categoryColors = {
  Electronics:'var(--accent2)', Documents:'var(--accent)', Snacks:'#a8ff78',
  Comfort:'#ffeaa7', Clothing:'var(--accent3)', Health:'var(--red)',
  Shoes:'#f9c6de', Toiletries:'#74b9ff', Sport:'#fd79a8', Other:'var(--muted)'
};

function renderItems(bag) {
  const containerId = bag === 'carry' ? 'carryonLists' : 'checkinLists';
  const items = state[bag];
  const container = document.getElementById(containerId);

  if (items.length === 0) {
    container.innerHTML = `<div class="empty-state"><div class="emoji">ğŸ§³</div><p>No items yet â€” add some below or use quick-add chips!</p></div>`;
    return;
  }

  // Group by category
  const groups = {};
  items.forEach(item => {
    if (!groups[item.category]) groups[item.category] = [];
    groups[item.category].push(item);
  });

  container.innerHTML = Object.entries(groups).map(([cat, catItems]) => {
    const packedCount = catItems.filter(i => i.checked).length;
    return `
    <div class="card">
      <div class="card-header">
        <div class="card-title">
          <div class="icon" style="background:rgba(255,255,255,0.05)">${categoryIcons[cat] || 'ğŸ“¦'}</div>
          ${cat}
        </div>
        <div class="badge">${packedCount}/${catItems.length}</div>
      </div>
      <div class="item-list">
        ${catItems.map(item => `
          <div class="item ${item.checked ? 'checked' : ''}" id="item-${item.id}">
            <div class="checkbox" onclick="toggleItem('${bag}',${item.id})">${item.checked ? 'âœ“' : ''}</div>
            <span class="item-label" onclick="toggleItem('${bag}',${item.id})">${item.name}</span>
            <div class="item-actions">
              <button class="btn-icon" onclick="removeItem('${bag}',${item.id})" title="Remove">ğŸ—‘</button>
            </div>
          </div>
        `).join('')}
      </div>
      <div class="progress-bar-wrap">
        <div class="progress-bar" style="background:${categoryColors[cat]||'var(--accent2)'};width:${packedCount/catItems.length*100}%"></div>
      </div>
    </div>
    `;
  }).join('');
}

function toggleItem(bag, id) {
  const item = state[bag].find(x => x.id === id);
  if (item) { item.checked = !item.checked; updateAll(); }
}

function removeItem(bag, id) {
  state[bag] = state[bag].filter(x => x.id !== id);
  updateAll();
}

function addItem(bag) {
  const inputId = bag === 'carry' ? 'carryInput' : 'checkinInput';
  const catId = bag === 'carry' ? 'carryCategory' : 'checkinCategory';
  const name = document.getElementById(inputId).value.trim();
  if (!name) return;
  const category = document.getElementById(catId).value;
  state[bag].push({ id: ++state.nextId, name, category, checked: false });
  document.getElementById(inputId).value = '';
  updateAll();
}

function quickAdd(bag, name, category) {
  state[bag].push({ id: ++state.nextId, name, category, checked: false });
  updateAll();
}

// ---- TO-DOs ----
function renderTodos() {
  const container = document.getElementById('todoList');
  if (state.todos.length === 0) {
    container.innerHTML = `<div class="empty-state"><div class="emoji">âœ…</div><p>No tasks yet â€” add something below!</p></div>`;
    return;
  }
  container.innerHTML = state.todos.map(todo => `
    <div class="todo-item ${todo.done ? 'done' : ''}">
      <div class="todo-check" onclick="toggleTodo(${todo.id})">${todo.done ? 'âœ“' : ''}</div>
      <div class="todo-content">
        <div class="todo-text">${todo.text}</div>
        ${todo.note ? `<div class="todo-meta">ğŸ“ ${todo.note}</div>` : ''}
      </div>
      <span class="priority-badge priority-${todo.priority}">
        ${todo.priority === 'high' ? 'ğŸ”´ High' : todo.priority === 'med' ? 'ğŸŸ¡ Med' : 'ğŸŸ¢ Low'}
      </span>
      <button class="btn-icon" onclick="removeTodo(${todo.id})">ğŸ—‘</button>
    </div>
  `).join('');
}

function toggleTodo(id) {
  const t = state.todos.find(x => x.id === id);
  if (t) { t.done = !t.done; updateAll(); }
}

function removeTodo(id) {
  state.todos = state.todos.filter(x => x.id !== id);
  updateAll();
}

function addTodo() {
  const text = document.getElementById('todoInput').value.trim();
  if (!text) return;
  const note = document.getElementById('todoNote').value.trim();
  const priority = document.getElementById('todoPriority').value;
  state.todos.push({ id: ++state.nextId, text, note, priority, done: false });
  document.getElementById('todoInput').value = '';
  document.getElementById('todoNote').value = '';
  updateAll();
}

function quickTodo(text, priority) {
  state.todos.push({ id: ++state.nextId, text, note: '', priority, done: false });
  updateAll();
}

// ---- PROGRESS & STATS ----
function saveState() {
  try { localStorage.setItem('packsmart_v1', JSON.stringify(state)); } catch(e) {}
}
function pct(arr, checkedKey = 'checked') {
  if (!arr.length) return 0;
  return Math.round(arr.filter(x => x[checkedKey]).length / arr.length * 100);
}

function updateWeights() {
  const carry = parseFloat(document.getElementById('w-carry').value) || 0;
  const check = parseFloat(document.getElementById('w-check').value) || 0;

  document.getElementById('wb-carry').style.width = Math.min(carry/7*100, 100) + '%';
  document.getElementById('wb-check').style.width = Math.min(check/23*100, 100) + '%';

  document.getElementById('wb-carry').style.background = carry > 7 ? 'var(--red)' : 'var(--accent3)';
  document.getElementById('wb-check').style.background = check > 23 ? 'var(--red)' : 'var(--accent)';

  const alertEl = document.getElementById('weightAlert');
  if (carry > 7 || check > 23) {
    alertEl.innerHTML = `<div class="alert alert-warn" style="margin-top:12px">âš ï¸ ${carry > 7 ? 'Carry-on exceeds 7kg limit. ' : ''}${check > 23 ? 'Check-in exceeds 23kg limit.' : ''}</div>`;
  } else {
    alertEl.innerHTML = '';
  }
}

function updateAll() {
  renderDocuments();
  renderItems('carry');
  renderItems('checkin');
  renderTodos();

  const dPct = pct(state.documents);
  const cPct = pct(state.carry);
  const ckPct = pct(state.checkin);
  const tPct = pct(state.todos, 'done');

  const overall = Math.round((dPct + cPct + ckPct + tPct) / 4);

  // Stats
  const dc = state.documents.filter(x => x.checked).length;
  const cc = state.carry.filter(x => x.checked).length;
  const ckc = state.checkin.filter(x => x.checked).length;
  const tc = state.todos.filter(x => x.done).length;

  document.getElementById('stat-docs').textContent = `${dc}/${state.documents.length}`;
  document.getElementById('stat-carry').textContent = `${cc}/${state.carry.length}`;
  document.getElementById('stat-check').textContent = `${ckc}/${state.checkin.length}`;
  document.getElementById('stat-todo').textContent = `${tc}/${state.todos.length}`;

  // Progress bars
  document.getElementById('pct-docs').textContent = dPct + '%';
  document.getElementById('pct-carry').textContent = cPct + '%';
  document.getElementById('pct-check').textContent = ckPct + '%';
  document.getElementById('pct-todo').textContent = tPct + '%';
  document.getElementById('pb-docs').style.width = dPct + '%';
  document.getElementById('pb-carry').style.width = cPct + '%';
  document.getElementById('pb-check').style.width = ckPct + '%';
  document.getElementById('pb-todo').style.width = tPct + '%';

  document.getElementById('overallProgress').textContent = overall + '%';
  saveState();
}

// ---- LOCAL STORAGE ----
const STORAGE_KEY = 'packsmart_v1';

function loadState() {
  try {
    const saved = localStorage.getItem(STORAGE_KEY);
    if (saved) {
      const parsed = JSON.parse(saved);
      Object.assign(state, parsed);
    }
  } catch(e) { console.warn('Could not load:', e); }
}

function resetAll() {
  if (!confirm('âš ï¸ This will clear ALL your packing data. Are you sure?')) return;
  localStorage.removeItem(STORAGE_KEY);
  location.reload();
}

// ---- INIT ----
loadState();
updateAll();

// Also restore weights from state
if (state.weights) {
  document.getElementById('w-carry').value = state.weights.carry || '';
  document.getElementById('w-check').value = state.weights.check || '';
  updateWeights();
}

// Save weights on change
document.getElementById('w-carry').addEventListener('input', () => {
  state.weights = state.weights || {};
  state.weights.carry = document.getElementById('w-carry').value;
  saveState();
});
document.getElementById('w-check').addEventListener('input', () => {
  state.weights = state.weights || {};
  state.weights.check = document.getElementById('w-check').value;
  saveState();
});

// Save trip name
document.getElementById('tripName').addEventListener('input', (e) => {
  state.tripName = e.target.value;
  saveState();
});
if (state.tripName) document.getElementById('tripName').value = state.tripName;
</script>
</body>
</html>
